var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,c=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))l.call(a,t)&&n(e,t,a[t]);return e},i=(e,s)=>a(e,t(s));import{d,r,C as u,b as p,g as m,w as _,h as f,i as b,E as w,q as y,z as h,D as k,j as g,t as v,m as x,F as C,n as O,am as j,p as z,M as I}from"./index-ChV97F5w.js";import{g as $,i as P}from"./page-wraper.D9WpzC1k.js";import{e as V,c as A,m as E,f as M,a as S,b as B,w as H,_ as T}from"./base64.D3gEw_Hf.js";const D=i(c({},B),{customHeaderClass:S(""),modelValue:c(c({},A(!1)),V(Boolean)),actions:M(),panels:M(),title:String,cancelText:String,closeOnClickAction:A(!0),closeOnClickModal:A(!0),duration:E(200),zIndex:E(10),lazyRender:A(!0),safeAreaInsetBottom:A(!0),rootPortal:A(!1)}),N=T(d(i(c({},{name:"wd-action-sheet",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:D,emits:["select","click-modal","cancel","closed","close","open","opened","update:modelValue"],setup(e,{emit:a}){const t=e,s=a,o=r([]),l=r(!1);function n(){return t.panels.length&&!I(t.panels[0])}function c(e,a,o){if("action"===a){if(t.actions[e].disabled||t.actions[e].loading)return;s("select",{item:t.actions[e],index:e})}else n()?s("select",{item:t.panels[Number(o)],index:o}):s("select",{item:t.panels[e][Number(o)],rowIndex:e,colIndex:o});t.closeOnClickAction&&V()}function i(){s("click-modal")}function d(){s("cancel"),V()}function V(){s("update:modelValue",!1),s("close")}function A(){s("open")}function E(){s("opened")}function M(){s("closed")}return u((()=>t.panels),(function(){o.value=n()?[t.panels]:t.panels}),{deep:!0,immediate:!0}),u((()=>t.modelValue),(e=>{l.value=e}),{deep:!0,immediate:!0}),(e,a)=>{const t=b,s=j,n=z;return m(),p(t,null,{default:_((()=>[f($,{"custom-class":"wd-action-sheet__popup","custom-style":""+(e.actions&&e.actions.length||e.panels&&e.panels.length?"background: transparent;":""),modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),duration:e.duration,position:"bottom","close-on-click-modal":e.closeOnClickModal,"safe-area-inset-bottom":e.safeAreaInsetBottom,"lazy-render":e.lazyRender,"root-portal":e.rootPortal,onEnter:A,onClose:V,onAfterEnter:E,onAfterLeave:M,onClickModal:i,"z-index":e.zIndex},{default:_((()=>[f(t,{class:y(`wd-action-sheet ${e.customClass}`),style:w(`${e.actions&&e.actions.length||e.panels&&e.panels.length?"margin: 0 10px calc(var(--window-bottom) + 10px) 10px; border-radius: 16px;":"margin-bottom: var(--window-bottom);"} ${e.customStyle}`)},{default:_((()=>[e.title?(m(),p(t,{key:0,class:y(`wd-action-sheet__header ${e.customHeaderClass}`)},{default:_((()=>[g(v(e.title)+" ",1),f(H,{"custom-class":"wd-action-sheet__close",name:"add",onClick:V})])),_:1},8,["class"])):h("",!0),e.actions&&e.actions.length?(m(),p(t,{key:1,class:"wd-action-sheet__actions"},{default:_((()=>[(m(!0),x(C,null,O(e.actions,((e,a)=>(m(),p(s,{key:a,class:y(`wd-action-sheet__action ${e.disabled?"wd-action-sheet__action--disabled":""}  ${e.loading?"wd-action-sheet__action--loading":""}`),style:w(`color: ${e.color}`),onClick:e=>c(a,"action")},{default:_((()=>[e.loading?(m(),p(P,{key:0,"custom-class":"`wd-action-sheet__action-loading"})):(m(),p(t,{key:1,class:"wd-action-sheet__name"},{default:_((()=>[g(v(e.name),1)])),_:2},1024)),!e.loading&&e.subname?(m(),p(t,{key:2,class:"wd-action-sheet__subname"},{default:_((()=>[g(v(e.subname),1)])),_:2},1024)):h("",!0)])),_:2},1032,["class","style","onClick"])))),128))])),_:1})):h("",!0),o.value&&o.value.length?(m(),p(t,{key:2},{default:_((()=>[(m(!0),x(C,null,O(o.value,((e,a)=>(m(),p(t,{key:a,class:"wd-action-sheet__panels"},{default:_((()=>[f(t,{class:"wd-action-sheet__panels-content"},{default:_((()=>[(m(!0),x(C,null,O(e,((e,s)=>(m(),p(t,{key:s,class:"wd-action-sheet__panel",onClick:e=>c(a,"panels",s)},{default:_((()=>[f(n,{class:"wd-action-sheet__panel-img",src:e.iconUrl},null,8,["src"]),f(t,{class:"wd-action-sheet__panel-title"},{default:_((()=>[g(v(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})):h("",!0),k(e.$slots,"default",{},void 0,!0),e.cancelText?(m(),p(s,{key:3,class:"wd-action-sheet__cancel",onClick:d},{default:_((()=>[g(v(e.cancelText),1)])),_:1})):h("",!0)])),_:3},8,["class","style"])])),_:3},8,["custom-style","modelValue","duration","close-on-click-modal","safe-area-inset-bottom","lazy-render","root-portal","z-index"])])),_:3})}}})),[["__scopeId","data-v-15f5367a"]]);export{N as _};
